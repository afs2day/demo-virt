Network Settings as Kustomize Components 

Do not apply these directly, but reference them as components in your overlay kustomization.yaml.

Use the link:../../../templates[templates] to generate network configs and commit them.

Eg:

[source,bash]
----
# create the NNCP
oc process -f templates/template-nncp-nic-vlan-br.yaml \
  -p VLAN=1924 \
  -p NIC=ens224 \
  -p NODE_SELECTOR_KEY=machine.openshift.io/cluster-api-machineset \
  -p NODE_SELECTOR_VALUE=hub-l7c56-cnv \
  -o yaml \
  | yq e '.items[0]' - > nncp-ens224-br-vlan-1924.yaml

# create the coresponding net-attach-def
# be sure to set a namespace in your overlay
oc process -f templates/template-nad-vlan-cnv-bridge.yaml \
  -p VLAN=1924 \
  -p DESCRIPTION="Lab Network 192.168.4.0/24 V1924" \
  -o yaml \
  | yq e '.items[0]' - > nad-vlan-1924.yaml
----
